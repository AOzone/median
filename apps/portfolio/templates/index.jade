extends ../../../components/layout/templates/index
block vars
  - pageTitle = 'Portfolio'
block body
  .container.container--portfolio
    if positions.length
      table.portfolio-list.is-large
        thead
          tr
            td
            td Current Price
            td Purchase Price
            td Total Gain
            td Shares
            td Market Value
        tbody
          for position in positions.models
            include ./position
        tfooter
          tr
            td
            td
            td
            td.js-gain-color(data-gain="#{positions.totalPercentageGain()}") %#{positions.totalPercentageGain()}
            td
            td.js-gain-color(data-gain="#{positions.totalPercentageGain()}") #{positions.totalMarketValue()}Ã…
    else
      .error.is-centered
        h3 No positions yet

block scripts
   script( src=asset('/assets/portfolio.js')  )